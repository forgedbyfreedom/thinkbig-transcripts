      - name: Commit and safely push changes
        run: |
          set -e
          git config user.name "GitHub Action"
          git config user.email "actions@github.com"

          echo "ğŸ”„ Syncing with latest remote before committing..."
          git fetch origin main
          git checkout main
          git pull --rebase origin main || echo "âš ï¸ Pull with rebase failed, continuing."

          echo "ğŸ“ Adding and committing any transcript updates..."
          git add -A
          git commit -m "Auto-update master transcripts $(date +'%Y-%m-%d %H:%M:%S')" || echo "No changes to commit."

          echo "ğŸš€ Pushing updates to remote..."
          git push origin main || (echo "âš ï¸ Push failed, retrying with force-with-lease..." && git push --force-with-lease origin main)

          echo "âœ… Finished Git sync successfully."

